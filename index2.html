<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List of Subscribers</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Newsletter Subscribers List</h1>
    <div class="entries">
        <p id="entryCount">Number of Entries: <span id="count">0</span></p>
        <script>
            // JavaScript function to count and display the number of entries
            window.onload = function() {
                const table = document.querySelector("table");
                const countElement = document.getElementById("count");
                countElement.textContent = table.querySelectorAll("tbody tr").length;
            };
             // JavaScript to generate and download CSV file
        document.getElementById('downloadAll').addEventListener('click', function() {
            // Create a data array with all user data (you'll need to populate this array with actual data)
            var userData = [
                ["Serial Number", "Name", "Email", "Mobile", "State", "Date"],
                [1, "John Doe", "johndoe@example.com", "123-456-7890", "New York", "2023-11-06"],
                [2, "Jane Smith", "janesmith@example.com", "987-654-3210", "California", "2023-11-06"]
                // Add more rows as needed
            ];

            // Convert data to CSV format
            var csvContent = "data:text/csv;charset=utf-8,";
            userData.forEach(function(row) {
                var rowStr = row.map(function(cell) {
                    return '"' + cell + '"';
                }).join(",");
                csvContent += rowStr + "\r\n";
            });

            // Create a data URI and trigger the download
            var encodedUri = encodeURI(csvContent);
            var link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "userdata.csv");
            link.click();
        });
        </script>
    </div>    
    <div class="container2" id="main">
        <table border="1">
            <thead>
                <th style="width: 5%;">Serial Number</th>
                <th style="width: 15%;">Name</th>
                <th style="width: 15%;">Email</th>
                <th style="width: 10%;">Mobile</th>
                <th style="width: 10%;">State</th>
                <th style="width: 10%;">Date</th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>John Doe</td>
                    <td>johndoe@example.com</td>
                    <td>123-456-7890</td>
                    <td>New York</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>11</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>12</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
                <tr>
                    <td>13</td>
                    <td>Jane Smith</td>
                    <td>janesmith@example.com</td>
                    <td>987-654-3210</td>
                    <td>California</td>
                    <td>2023-11-06 09:00:00</td>
                </tr>
            </tbody>
        </table>

    </div>
    <a href="#" id="downloadAll">Download All Data</a>
    <a href="index.html">
        HOME
    </a>

</body>
</html>